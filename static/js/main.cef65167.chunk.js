(this.webpackJsonpacme=this.webpackJsonpacme||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(7),r=a.n(l),o=(a(16),a(4)),i=a.n(o),s=a(5),u=a(8),d=a(1),m=a(10),h=a(9),f=(a(18),3),g=4,b={thumbnailUrl:"thumbnail-cell",id:"id-cell",albumId:"album-id-cell",title:"title-cell",url:"url-cell"},v=function(e){return c.a.createElement("div",{className:"Rtable-row Rtable-row--head"},c.a.createElement("div",{className:"Rtable-cell select-item-cell column-heading"},c.a.createElement("input",{type:"checkbox",value:"All",onChange:function(t){return function(e,t){t(e)}(t,e.handleSelectAllChange)}})),e.columns.map((function(e){return c.a.createElement("div",{className:"Rtable-cell column-heading"+(e.textAlign?" text-align-".concat(e.textAlign):"")+" ".concat(b[e.id]),key:e.id},e.label)})))},p=function(e){var t=e.column,a=e.row;return c.a.createElement("div",{className:"Rtable-cell"+(t.textAlign?" text-align-".concat(t.textAlign):"")+(t.wordWrap?" word-wrap":"")+" ".concat(b[t.id])},a[t.id])},w=function(e){var t=e.column,a=e.row;return c.a.createElement("div",{className:"Rtable-cell"+(t.textAlign?" text-align-".concat(t.textAlign):"")+(t.wordWrap?" word-wrap":"")+" ".concat(b[t.id])},c.a.createElement("img",{className:"table-cell-thumbnail-image",src:a[t.id],alt:a[t.id]}))},E=function(e){var t=e.column,a=e.row;return c.a.createElement("div",{className:"Rtable-cell"+(t.textAlign?" text-align-".concat(t.textAlign):"")+(t.wordWrap?" word-wrap":"")+" ".concat(b[t.id]),dangerouslySetInnerHTML:{__html:a[t.id]}})},x=function(e){var t=e.index,a=e.style,n=e.data,l=n.rows,r=n.onRowClick,o=n.columns,i=n.rowsState,s=n.handleRowCheckboxChange,u=n.isItemLoaded,d=l[t]||{},m=function(e){return c.a.createElement("div",{style:e.style},c.a.createElement("div",{className:"loader flex-row flex-center"},c.a.createElement("div",null,"Loading...")))};return u(t)?c.a.createElement("div",{key:d.id,onClick:function(e){return function(e,t,a,n){e.target.getAttribute("class").includes("js-row-checkbox")||n(t,a)}(e,d,t,r)},style:a},c.a.createElement("div",{className:"Rtable-row"+(t%2!==0?" is-striped":"")},c.a.createElement("div",{className:"Rtable-cell select-item-cell"},c.a.createElement("input",{type:"checkbox",onChange:function(e){return function(e,t,a){a(e,t)}(e,d.id,s)},value:d.id,checked:i[d.id]&&i[d.id].isChecked,className:"js-row-checkbox"})),o.map((function(e){var t;switch(e.valueType){case g:t=c.a.createElement(E,{column:e,row:d,key:e.id});break;case f:t=c.a.createElement(w,{column:e,row:d,key:e.id});break;default:t=c.a.createElement(p,{column:e,row:d,key:e.id})}return t})))):c.a.createElement(m,{style:a})};var k=function(e){var t=Object(n.useState)({}),a=Object(d.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),s=i[0],u=i[1],f=Object(n.useState)(""),g=Object(d.a)(f,2),b=g[0],p=g[1],w=Object(n.useRef)(null),E=Object(n.useRef)(!1),k=e.rows,y=e.columns,j=e.onRowClick,O=e.hasNextPage,C=e.isNextPageLoading,N=e.loadNextPage,R=function(e,t){var a=e.target.checked,n=Object.assign({},l);n[t].isChecked=a,r(n)};Object(n.useEffect)((function(){r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={};return t.forEach((function(t){var n=t.id;if(e[n])a[n]=e[n];else{a[n]=Object.assign({},t,{isChecked:!1})}})),a}(l,e.rows))}),[e.rows]),Object(n.useEffect)((function(){var t=function(e){var t=[];return Object.keys(e).forEach((function(a){e[a].isChecked&&t.push(a)})),Object.keys(e).length===t.length?"All":t}(l);e.onSelectionChange(t)}),[l]),Object(n.useEffect)((function(){E.current&&w.current&&w.current.resetloadMoreItemsCache(),E.current=!0}),[s,b]);var A=window.innerHeight-146,S=O?k.length+1:k.length,I=C?function(){}:N,T=function(e){return!O||e<k.length},L=function(e){I(e,{searchText:s,searchType:b})};return c.a.createElement("div",{className:"data-table"},c.a.createElement("form",{className:"search-filter-container flex-row",onSubmit:function(e){e.preventDefault(),I([],{searchText:s})}},c.a.createElement("div",null,c.a.createElement("select",{className:"search-filter-type",value:b,onChange:function(e){p(e.target.value)}},c.a.createElement("option",{value:""},"Filter"),y.map((function(e){return"thumbnailUrl"!==e.id?c.a.createElement("option",{value:e.id,key:e.id},e.label):""})))),c.a.createElement("div",{className:"flex-item"},c.a.createElement("input",{className:"search-filter-input",type:"text",placeholder:"Search photos",onChange:function(e){u(e.target.value)}}))),c.a.createElement("div",{className:"Rtable"},c.a.createElement(v,{columns:e.columns,handleSelectAllChange:function(e){var t=e.target.checked,a={};Object.keys(l).forEach((function(e){var n=l[e];n.isChecked=t,a[e]=n})),r(a)}}),c.a.createElement(h.a,{ref:w,isItemLoaded:T,itemCount:S,loadMoreItems:function(e){return L(e)}},(function(e){var t=e.onItemsRendered,a=e.ref;return c.a.createElement(m.a,{itemData:{rows:k,columns:y,onRowClick:j,rowsState:l,handleRowCheckboxChange:R,isItemLoaded:T},className:"List",height:A,itemCount:S,itemSize:80,onItemsRendered:t,ref:a},x)}))))},y=(a(19),[{id:"thumbnailUrl",label:"Thumbnail",valueType:3,wordWrap:!0},{id:"id",label:"ID",valueType:2,textAlign:"right"},{id:"albumId",label:"Album Id",valueType:2,textAlign:"right"},{id:"title",label:"Title",valueType:4,width:"370px"},{id:"url",label:"URL",valueType:1,wordWrap:!0}]),j="https://jsonplaceholder.typicode.com/photos";var O=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),o=Object(d.a)(r,2),m=o[0],h=o[1],f=Object(n.useState)([]),g=Object(d.a)(f,2),b=g[0],v=g[1];function p(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(){var t,n,c,r,o,u,d,m,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=10,n=0===f.length?1:((f.length<=0?void 0:f[0])+t)/10,c=f.length<=1?void 0:f[1],r=c&&c.searchText,o=c&&c.searchType,u="?_page=".concat(n,"&_limit=").concat(t),h(a.length<5e3),o&&r?u+="&".concat(o,"=").concat(r):r&&(u+="&q=".concat(r)),e.next=10,fetch(j+u);case 10:return d=e.sent,e.next=13,d.json();case 13:(m=e.sent).length<t&&h(!1),v(!1),l(1===n?m:[].concat(Object(s.a)(a),Object(s.a)(m)));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){p()}),[]),c.a.createElement("div",{className:"wrapper App"},c.a.createElement(k,{columns:y,rows:a,onRowClick:function(e,t){console.log("rowData",e),console.log("rowIndex",t)},onSelectionChange:function(e){console.log("selectedRows",e)},hasNextPage:m,isNextPageLoading:b,loadNextPage:function(){p.apply(void 0,arguments)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.cef65167.chunk.js.map